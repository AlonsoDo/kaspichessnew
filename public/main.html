<!DOCTYPE html>
<html>
   <head>
      <title>KaspiChess</title>   
      <script src="/socket.io/socket.io.js"></script>
      <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
      <script src="js/jquery-ui.js"></script>
      <link rel="stylesheet" href="css/jquery-ui.css">
      <link rel="stylesheet" type="text/css" media="screen" href="css/ui.jqgrid.css"/>
      <script src="js/grid.locale-en.js" type="text/javascript"></script>
      <script src="js/jquery.jqGrid.min.js" type="text/javascript"></script>
      <link rel="stylesheet" type="text/css" href="css/jquery-ui-1.12.icon-font.min.css" />
      <script src="js/retos.js"></script>
      <script src="js/board.js"></script>
      <script src="js/funciones.js"></script>
      <script src="js/chessboard-1.0.0.min.js"></script>
      <link rel="stylesheet" href="css/chessboard-1.0.0.min.css"> 
      <script>var exports = {};</script>
      <script src="js/chess.js"></script>
      <script src="js/ion.sound.min.js" type="text/javascript"></script>       
      <style>
         .ui-corner-all, .ui-corner-top, .ui-corner-left, .ui-corner-tl, .ui-corner-right, .ui-corner-tr, .ui-corner-bottom, .ui-corner-bl, .ui-corner-br {
         border-radius:0;
         -moz-border-radius:0;
         -webkit-border-radius:0;
         -khtml-border-radius:0;}

         .ui-jqgrid tr.jqgrow td {font-weight:bold !important}

         .ui-tabs .ui-tabs-panel {
            padding: 1px 1px 1px 1px !important;
         }     
         
         .myclass td  {
            font-family:Arial,Helvetica,serif;
            font-size:14px;
         }
         
         table {
            font-family:Arial,Helvetica,serif;
            font-size:14px;
            font-weight:bold;
         }

         .highlight {
            box-shadow: inset 0 0 3px 3px yellow;
         }
      </style>
      <script>

         var socket;
         var chess = new Chess();
         var board1;
         var Room;
         var MyName;
         var MyElo;
         var OpElo;
         var Rated;
         var PassWord;
         var MySocketId;
         var RoomReto;
         var PlayRoom;
         var GameId;
         
         $(document).ready(function(){

            socket = io({ reconnection: false });

             // init bunch of sounds
             ion.sound({
                sounds: [
                    { name: 'main' , volume: 0.1 },
                    { name: 'comienzopartida' , volume: 0.5 },
                    { name: 'newgame' , volume: 0.9 },
                    { name: 'move' , volume: 0.7 },
                    { name: 'cancel' , volume: 0.6 },
                    { name: 'call' , volume: 0.5 },
                    { name: 'lost' , volume: 0.9 },
                    { name: 'win' , volume: 0.9 },
                    { name: 'draw' , volume: 0.9 }
                ],            
                // main config
                path: "res/sounds/",
                preload: true,
                multiplay: true,
                volume: 0.9
            }) 
            
            //ion.sound.play('comienzopartida');            

            var url_string = window.location.href; 
            var url = new URL(url_string);
            var name = url.searchParams.get('name');
            var rating = url.searchParams.get('rating')
            
            if (name == 'Guest'){
               MyName = 'Player' + Math.floor(Math.random()*10000);
               MyElo = 1200;
               $('#DivGeneralChat').append('<span style="color:black; font-size:16px; font-family:Arial,Helvetica,sans-serif; font-weight:bold">'+ 
                            'Sys: ' + '</span>' + 
                            '<span style="color:#d6482a; font-size:16px; font-family:Arial,Helvetica,sans-serif; font-weight:bold">' +
                            'Welcome ' + MyName + '</span><br>');
               $('#DivGeneralChat').animate({scrollTop:$('#DivGeneralChat').prop('scrollHeight')},500);
               $('#DivGeneralChat').append('<span style="color:black; font-size:16px; font-family:Arial,Helvetica,sans-serif; font-weight:bold">'+ 
                            'Sys: ' + '</span>' + 
                            '<span style="color:#d6482a; font-size:16px; font-family:Arial,Helvetica,sans-serif; font-weight:bold">' +
                            'Your initial rating is: 1200' + '</span><br>');
               $('#DivGeneralChat').animate({scrollTop:$('#DivGeneralChat').prop('scrollHeight')},500);
               $('#DivGeneralChat').append('<span style="color:black; font-size:16px; font-family:Arial,Helvetica,sans-serif; font-weight:bold">'+ 
                            'Sys: ' + '</span>' + 
                            '<span style="color:#d6482a; font-size:16px; font-family:Arial,Helvetica,sans-serif; font-weight:bold">' +
                            'If you register you will begin with 1800 of rating' + '</span><br>');
               $('#DivGeneralChat').animate({scrollTop:$('#DivGeneralChat').prop('scrollHeight')},500);
               socket.emit('EnviarNombre',{PlayerName:MyName});
               
               // Posicion inicial
               var config = {position:'start',draggable:true,onDrop:onDrop,onSnapEnd:onSnapEnd,onMoveEnd:onMoveEnd};
               board1 = ChessBoard('board1',config);
            }else{
               MyName = name;
               socket.emit('LoadIniData',{PlayerName:MyName});
            }

            $('#lbJugadorConectado').text(MyName);            

            $('#ContenedorTablero').hide();            
            
            socket.on('LoadIniDataBack',function(data){
               LoadIniDataBack(data);
               // Posicion inicial
               var config;
               if (nCoordenadas == 1){
                  config = {position:'start',draggable:true,onDrop:onDrop,onSnapEnd:onSnapEnd,onMoveEnd:onMoveEnd};
               }else{
                  config = {position:'start',draggable:true,onDrop:onDrop,onSnapEnd:onSnapEnd,onMoveEnd:onMoveEnd,showNotation:false};
               }               
               board1 = ChessBoard('board1',config);
            }); 
            
            socket.on('GameIdBack',function(data){
               GameId = data.GameId;               
            });

            socket.on('PlayersOnLine',function(data){
               $('#DivGeneralChat').append('<span style="color:black; font-size:16px; font-family:Arial,Helvetica,sans-serif; font-weight:bold">'+ 
                            'Sys: ' + '</span>' + 
                            '<span style="color:#d6482a; font-size:16px; font-family:Arial,Helvetica,sans-serif; font-weight:bold">' +
                            'Players on line ( ' + data.aPlayers.length + ' )' + '</span><br>');
               $('#DivGeneralChat').animate({scrollTop:$('#DivGeneralChat').prop('scrollHeight')},500);
            });

            socket.on('WelcomeBack',function(data){               
               $('#DivPrivateChat').append('<span style="color:black; font-size:16px; font-family:Arial,Helvetica,sans-serif; font-weight:bold">'+ 
                            data.MyName + ': </span>' + 
                            '<span style="color:#d6482a; font-size:16px; font-family:Arial,Helvetica,sans-serif; font-weight:bold">' +
                            data.Welcome + '</span><br>');
               $('#DivPrivateChat').animate({scrollTop:$('#DivPrivateChat').prop('scrollHeight')},500);
            });
            
            socket.on('SendPosBack',function(data){
               SendPosBack(data);
            });
            
            socket.on('SetValuesBack',function(data){
               SetValuesBack(data);
            });
            
            socket.on('AceptarRetoBack',function(data){
               AceptarRetoBack(data);
            }); 
            
            socket.on('EnviarSocketId',function(data){
               MySocketId = data.SocketId;
            });
            
            socket.on('CrearRetoBack',function(data){
               RoomReto = data.Room;
               jQuery("#GridRetos").jqGrid('addRowData',RoomReto,{Room:RoomReto,Color:data.Color,Player:data.MyName,Rating:data.MyElo,Time:data.Minutes+'/'+data.Seconds,Manner:data.Rated,Min:data.Min,Max:data.Max});
            });   

            $('#btCrearReto').button();

            $('#btCrearReto').on('click',function(){
               if (nSound == 1){
                  ion.sound.play('newgame');
               }
               $('#DialogNewGame').dialog('open');               
            });

            $('#btCancelarReto').on('click',function(){
               socket.emit('CancelarReto',{MyName:MyName})
               $('#btCancelarReto').hide();
               $('#btCrearReto').show();
            });

            $('#btCancelarReto').button();
            $('#btAbortarPartida').button();
            $('#btOfrecerTablas').button();
            $('#btResign').button();
            $('#btMain').button();
            $('#btAceptarTablas').button();
            $('#btDeclinarTablas').button();
            $('#btAbortarPartida').hide();
            $('#btCancelarReto').hide();
            $('#btOfrecerTablas').hide();
            $('#OfrecerTablas').hide();
            $('#DeclinarTablas').hide();
            $('#btResign').hide();
            $('#btMain').hide();
            $('#OfrecerTablas2').hide();
            $('#btSendMensageGeneralChat').button(); 
            $('#btSendMensagePrivateChat').button();
            $('#btStats').button(); 
            $('#btSetting').button();   
            $('#btReloadPlayers').button(); 
            $('#btReloadGames').button();
            $('#btShareChessClub').button();      

            $('#btSendMensageGeneralChat').on('click',function(){
               socket.emit('SendMensageGeneralChat',{PlayerName:MyName,ChatText:$('#TextMensageGeneralChat').val()});
               $('#TextMensageGeneralChat').val('');
            });

            $('#TextMensageGeneralChat').on('keydown',function(event){
               if(event.which == 13){
                  socket.emit('SendMensageGeneralChat',{PlayerName:MyName,ChatText:$('#TextMensageGeneralChat').val()});
                  $('#TextMensageGeneralChat').val('');
               }                  
            });

            $('#btSendMensagePrivateChat').on('click',function(){
               socket.emit('SendMensagePrivateChat',{PlayerName:MyName,ChatText:$('#TextMensagePrivateChat').val(),PlayRoom:PlayRoom});
               $('#TextMensagePrivateChat').val('');
            });

            $('#TextMensagePrivateChat').on('keydown',function(event){
               if(event.which == 13){
                  socket.emit('SendMensagePrivateChat',{PlayerName:MyName,ChatText:$('#TextMensagePrivateChat').val(),PlayRoom:PlayRoom});
                  $('#TextMensagePrivateChat').val('');
               }                  
            });

            socket.on('SendMensageGeneralChatBack',function(data){
               SendMensageGeneralChatBack(data);
            });

            socket.on('SendMensagePrivateChatBack',function(data){
               SendMensagePrivateChatBack(data);
            });

            socket.on('CancelarRetoBack',function(data){
               CancelarRetoBack(data);
            });

            IniGridRetos();
            jQuery('#GridRetos').addClass('myclass');

            IniGridPlayers();
            IniGridGames();

            $('#Tabs').tabs();

            IniDialogMessage();
            IniDialogStats();
            IniDialogNewGame();
            IniDialogSetting();
            IniDialogReconnect();

            socket.on('ConnectToRoom',function(data){               
               // General Room
               Room = 1;               
            });
            
            socket.on('ActualizarRetos',function(data){               
               ActualizarRetos(data);              
            });

            socket.on('WinByTime',function(data){               
               WinByTime(data);              
            });

            socket.on('DrawByTime',function(data){               
               DrawByTime(data);              
            });

            socket.on('WinByResign',function(data){               
               WinByResign(data);              
            });

            socket.on('OfrecerTablasBack',function(data){               
               OfrecerTablasBack(data);              
            });

            socket.on('AceptarTablasBack',function(data){               
               AceptarTablasBack(data);              
            });

            socket.on('DeclinarTablasBack',function(data){               
               DeclinarTablasBack(data);              
            });

            $('#btResign').on('click',function(){
               LostByResign();               
            });

            $('#btMain').on('click',function(){
               GoToMain();               
            });

            $('#btOfrecerTablas').on('click',function(){
               OfrecerTablas();               
            });

            $('#btAceptarTablas').on('click',function(){
               AceptarTablas();               
            });

            $('#btDeclinarTablas').on('click',function(){
               DeclinarTablas();               
            });

            $('#btStats').on('click',function(){
               socket.emit('Stats',{PlayerName:MyName});              
            });

            $('#btShareChessClub').on('click',function(){
               window.open('https://sharechessclub.herokuapp.com/demos/','_blank');              
            });

            socket.on('StatsBack',function(data){               
               ShowStats(data);              
            });

            $('#btSetting').on('click',function(){
               socket.emit('LoadSetting',{PlayerName:MyName});                           
            });

            $('#btReloadPlayers').on('click',function(){
               socket.emit('LoadPlayers',{});
            });

            $('#btReloadGames').on('click',function(){
               socket.emit('LoadGames',{});
            });

            $('#btAbortarPartida').on('click',function(){
               AbortedGame();
            });

            socket.on('LoadSettingBack',function(data){               
               LoadSettingBack(data);                          
            });

            $('#Tabs').on('tabsactivate', function(event, ui) {
               var newIndex = ui.newTab.index();
               // Players
               if (newIndex == 1){
                  socket.emit('LoadPlayers',{});
               }else if (newIndex == 2){
                  socket.emit('LoadGames',{});
               }
            });

            socket.on('LoadPlayersBack',function(data){               
               console.log(data) 
               LoadPlayersBack(data);                            
            });

            socket.on('LoadGamesBack',function(data){               
               console.log(data) 
               LoadGamesBack(data);                            
            });

            socket.on('DiscPlaying',function(data){               
               DiscPlaying(data)                           
            });  
            
            socket.on('disconnect', function(){
               $("#DialogReconnect").dialog('open');
            });

            socket.on('AbortedGameBack', function(data){
               AbortedGameBack();
            });

            socket.on('AbortedGameByServerBack', function(data){
               AbortedGameByServerBack();
            });

         });
      </script>
   </head>
   <body>
      <div style="border:0px black solid; width:1100px; height:780px; margin:0 auto 0 auto;">
         <div style="background-color:#daa351; border:0px black solid; width:1100px; height:60px;">
            <label style="color:#f7f5f4; margin-left:20px; margin-top:6px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">Welcome to</label>								
            <label style="color:#f7f5f4; margin-left:20px; margin-top:2px; float:left; font-family:Forte,Arial,Helvetica,sans-serif; font-weight:bold; font-size:40px;">KaspiChess.com</label>								
            <label style="color:#f7f5f4; margin-left:20px; margin-top:6px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">version 0.4.9 by Alonso Dominguez 2024</label>								
            <label id="lbJugadorConectado" style="color:#f7f5f4; margin-left:20px; margin-top:6px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:16px;">Player0000</label>								
         </div>
         <div id="ContenedorRetos" style="background-color:#daa351; border:0px black solid; width:546px; height:546px; margin-top:8px; margin-bottom:8px; margin-right:8px; float:left;">
            <div style="margin-left:10px; margin-top:10px; float:left; background-color:#e8e8e8; border:0px coral solid; width:525px; height:525px;">
               <table id="GridRetos"></table>
           </div>
         </div>
         <div id="ContenedorTablero" style="background-color:#daa351; border:0px black solid; width:546px; height:546px; margin-top:8px; margin-bottom:8px; margin-right:8px; float:left;">
         
            <div id="NombreOponente" style="background-color:#daa351; border:0px black solid; width:250px; height:30px; margin-top:12px; margin-left:10px; float:left;">
               <label id="lbNombreOponente" style="color:#0c0c0c; margin-left:0px; margin-top:4px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">Player0000</label>								
            </div>
            <div id="RatingOponente" style="background-color:#daa351; border:0px black solid; width:50px; height:30px; margin-top:12px; margin-left:10px; float:left;">
               <label id="lbRatingOponente" style="color:#0c0c0c; margin-left:0px; margin-top:4px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">1200</label>								
            </div>
            <div id="FlagOponente" style="background-color:#daa351; border:0px black solid; width:20px; height:30px; margin-top:12px; margin-left:10px; float:left;">
               <img id="ImgFlagOponente" src="res/img/flags/16/ad.png" alt="Country" width="16" height="16" style="margin-top:8px;"> 								
            </div>
            <div id="ResultadoOponente" style="background-color:#daa351; border:0px black solid; width:30px; height:30px; margin-top:12px; margin-left:10px; float:left;">
               <label id="lbResultadoOponente" style="color:#0c0c0c; margin-left:0px; margin-top:4px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">1/2</label>								
            </div>
            <div id="RelojOponente" style="background-color:#daa351; border:0px black solid; width:106px; height:30px; margin-top:12px; margin-left:28px; float:left;">
               <label id="lbRelojOponente" style="color:#0c0c0c; margin-left:0px; margin-top:0px; float:right; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:26px;">00:00:00</label>								
            </div>

            <div style="margin-left:54px; margin-top:10px; float:left; background-color:#e8e8e8; border:0px coral solid; width:436px; height:436px;">
               <div id="board1" style="width:440px;"></div>   
            </div>

            <div id="NombreJugador" style="background-color:#daa351; border:0px black solid; width:250px; height:30px; margin-top:10px; margin-left:10px; float:left;">
               <label id="lbNombreJugador" style="color:#0c0c0c; margin-left:0px; margin-top:4px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">Player0000</label>								
            </div>
            <div id="RatingJugador" style="background-color:#daa351; border:0px black solid; width:50px; height:30px; margin-top:12px; margin-left:10px; float:left;">
               <label id="lbRatingJugador" style="color:#0c0c0c; margin-left:0px; margin-top:4px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">1200</label>								
            </div>
            <div id="FlagJugador" style="background-color:#daa351; border:0px black solid; width:20px; height:30px; margin-top:12px; margin-left:10px; float:left;">
               <img id="ImgFlagJugador" src="res/img/flags/16/ad.png" alt="Country" width="16" height="16" style="margin-top:8px;"> 								
            </div>
            <div id="ResultadoJugador" style="background-color:#daa351; border:0px black solid; width:30px; height:30px; margin-top:12px; margin-left:10px; float:left;">
               <label id="lbResultadoJugador" style="color:#0c0c0c; margin-left:0px; margin-top:4px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">1/2</label>								
            </div>
            <div id="RelojJugador" style="background-color:#daa351; border:0px black solid; width:106px; height:30px; margin-top:12px; margin-left:28px; float:left;">
               <label id="lbRelojJugador" style="color:#0c0c0c; margin-left:0px; margin-top:0px; float:right; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:26px;">00:00:00</label>								
            </div>

         </div>
         <div id="ContenedorTabs" style="background-color:#daa351; border:0px black solid; width:546px; height:546px; margin-top:8px; margin-bottom:8px; margin-right:0px; float:left;">
            <div style="margin-left:10px; margin-top:10px; float:left; background-color:#e8e8e8; border:0px coral solid; width:525px; height:450px;">
               <div id="Tabs">
                  <ul>
                  <li><a href="#tabs-1">Chat</a></li>
                  <li><a href="#tabs-2">Players</a></li>
                  <li><a href="#tabs-3">Boards</a></li>
                  <li><a href="#tabs-4">Game</a></li>
                  <li><a href="#tabs-5">Private Chat</a></li>
                  </ul>
                  <div id="tabs-1">
                     <div id="DivGeneralChat" style="border:0px black solid; position:relative; height:352px; width:514px; overflow-x:hidden; overflow-y:scroll;">
                     </div>
                     <div id="MensajeChat" style="margin-top:3px; margin-left:0px; border:0px black solid; width:514px; height:36px;">
                        <input type="text" maxlength="200" id="TextMensageGeneralChat" placeholder="Please type your message here!" style="float:left; color:#d35d3f; clear:left; margin-top:8px; font-family:Arial,Helvetica,sans-serif; font-size:16px; font-weight:bold; margin-left:6px; height: 16px; width:452px;">
                        <button id="btSendMensageGeneralChat" style="padding:0px 0px 0px 0px; float:left; font-size:14px; font-weight:bold; margin-top:8px; margin-left:6px;">Send</button>
                     </div>
                  </div>
                  <div id="tabs-2">
                     <table id="GridPlayers"></table>
                     <div style="background-color:#daa351; border:1px black solid; width:514px; height:52px;">
                        <label style="color:#f7f5f4; margin-left:20px; margin-top:18px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:16px;">Players on line</label>								
                        <label id="lbPlayersOnLine" style="color:#f7f5f4; margin-left:4px; margin-top:18px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:16px;">( 0 )</label>								
                        <button id="btReloadPlayers" style="padding:4px 4px 4px 4px; float:left; font-size:18px; font-weight:bold; margin-top:10px; margin-left:16px;" title="Reload players data">Refresh</button>
                     </div>
                  </div>
                  <div id="tabs-3">
                     <table id="GridGames"></table>
                     <div style="background-color:#daa351; border:1px black solid; width:514px; height:52px;">
                        <button id="btReloadGames" style="padding:4px 4px 4px 4px; float:left; font-size:18px; font-weight:bold; margin-top:10px; margin-left:16px;" title="Reload games data">Refresh</button>
                     </div>
                  </div>
                  <div id="tabs-4">
                     <div id="DivGame" style="border:0px black solid; position:relative; height:352px; width:514px; overflow-x:hidden; overflow-y:scroll;">
                     </div>
                  </div>
                  <div id="tabs-5">
                     <div id="DivPrivateChat" style="border:0px black solid; position:relative; height:352px; width:514px; overflow-x:hidden; overflow-y:scroll;">
                     </div>
                     <div id="MensajeChat2" style="margin-top:3px; margin-left:0px; border:0px black solid; width:514px; height:36px;">
                        <input type="text" maxlength="200" id="TextMensagePrivateChat" placeholder="Please type your message here!" style="float:left; color:#d35d3f; clear:left; margin-top:8px; font-family:Arial,Helvetica,sans-serif; font-size:16px; font-weight:bold; margin-left:6px; height: 16px; width:452px;">
                        <button id="btSendMensagePrivateChat" style="padding:0px 0px 0px 0px; float:left; font-size:14px; font-weight:bold; margin-top:8px; margin-left:6px;">Send</button>
                     </div>
                  </div>
               </div>
            </div>
            <div style="margin-left:10px; margin-top:10px; float:left; background-color:#daa351; border:0px coral solid; width:525px; height:64px;">
               <button style="width:180px; float:left; margin-top:10px; margin-left:0px; font-family:Arial,Helvetica,sans-serif; font-weight:bold;" id="btCrearReto" title="Create new game" type="button"><span style="float:left; font-size:34px; margin-left:-10px;" class="ui-icon ui-icon-addon">icon</span>Create Game</button>
               <button style="width:140px; float:left; margin-top:10px; margin-left:10px; font-family:Arial,Helvetica,sans-serif; font-weight:bold;" id="btCancelarReto" title="Cancel new game" type="button"><span style="float:left; font-size:34px; margin-left:-10px;" class="ui-icon ui-icon-close">icon</span>Cancel</button>
               <button style="width:130px; float:left; margin-top:10px; margin-left:10px; font-family:Arial,Helvetica,sans-serif; font-weight:bold;" id="btAbortarPartida" title="Abort the game" type="button"><span style="float:left; font-size:34px; margin-left:-10px;" class="ui-icon ui-icon-trash-b">icon</span>Abort</button>
               <button style="width:120px; float:left; margin-top:10px; margin-left:10px; font-family:Arial,Helvetica,sans-serif; font-weight:bold;" id="btOfrecerTablas" title="Offer draw" type="button"><span style="float:left; font-size:34px; margin-left:-10px;" class="ui-icon ui-icon-grip-solid-horizontal">icon</span>Draw</button>
               <button style="width:140px; float:left; margin-top:10px; margin-left:10px; font-family:Arial,Helvetica,sans-serif; font-weight:bold;" id="btResign" title="Resign the game" type="button"><span style="float:left; font-size:34px; margin-left:-10px;" class="ui-icon ui-icon-back">icon</span>Resign</button>
               <button style="width:140px; float:left; margin-top:10px; margin-left:10px; font-family:Arial,Helvetica,sans-serif; font-weight:bold;" id="btMain" title="Go to main screen" type="button"><span style="float:left; font-size:34px; margin-left:-10px;" class="ui-icon ui-icon-home">icon</span>Main</button>
               <div id="OfrecerTablas" style="margin-left:10px; margin-top:10px; float:left; background-color:#daa351; border:0px black solid; width:110px; height:40px;">
                  <label style="color:black; margin-left:0px; margin-top:8px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:16px;">Offering draw</label>								
               </div>
               <div id="OfrecerTablas2" style="margin-left:5px; margin-top:10px; float:left; background-color:#daa351; border:0px black solid; width:360px; height:50px;">
                  <label style="color:black; margin-left:0px; margin-top:8px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:16px;">Offering draw</label>								
                  <button style="width:116px; float:left; margin-top:10px; margin-left:5px; font-family:Arial,Helvetica,sans-serif; font-weight:bold;" id="btAceptarTablas" title="Accept draw" type="button"><span style="float:left; font-size:24px; margin-left:-10px;" class="ui-icon ui-icon-check">icon</span>Accept</button>
                  <button style="width:120px; float:left; margin-top:10px; margin-left:5px; font-family:Arial,Helvetica,sans-serif; font-weight:bold;" id="btDeclinarTablas" title="Decline draw offer" type="button"><span style="float:left; font-size:24px; margin-left:-10px;" class="ui-icon ui-icon-forbidden">icon</span>Decline</button>
               </div>
               <div id="DeclinarTablas" style="margin-left:10px; margin-top:10px; float:left; background-color:#daa351; border:0px black solid; width:110px; height:40px;">
                  <label style="color:black; margin-left:0px; margin-top:8px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:16px;">Offer draw declined</label>								
               </div>
            </div>
         </div>
         <div style="background-color:#daa351; border:0px black solid; width:1100px; height:60px; float:left;">
            <button style="width:120px; float:left; margin-top:12px; margin-left:12px; font-family:Arial,Helvetica,sans-serif; font-weight:bold;" id="btStats" title="Show Stats of the player" type="button"><span style="float:left; font-size:24px; margin-left:-10px;" class="ui-icon ui-icon-chart-bars">icon</span>Stats</button>
            <button style="width:140px; float:left; margin-top:12px; margin-left:12px; font-family:Arial,Helvetica,sans-serif; font-weight:bold;" id="btSetting" title="Show Setting of the player" type="button"><span style="float:left; font-size:24px; margin-left:-10px;" class="ui-icon ui-icon-settings">icon</span>Setting</button>
            <button style="width:200px; float:left; margin-top:12px; margin-left:12px; font-family:Arial,Helvetica,sans-serif; font-weight:bold;" id="btShareChessClub" title="Go to ShareChessClub web" type="button"><span style="float:left; font-size:24px; margin-left:-10px;" class="ui-icon ui-icon-persons">icon</span>ShareChessClub</button>
            <label style="color:white; margin-left:30px; margin-top:20px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:16px;">Contact: alonso.caspi@gmail.com</label>								
         </div>
         <div id="DialogMessage" title="Information">
            <p id="ResultMessage"></p>
         </div>
         <div id="DialogReconnect" title="Information">
            <p id="ReconnectMessage">You have lost the connection.</p>
         </div>
         <div id="DialogStats" title="Stats">
            <p id="ResultMessageStats"></p>
            <table>
               <tr>
                 <td>Games: </td>
                 <td id="StatsGames">0</td>                 
               </tr>
               <tr>
                 <td>Wins: </td>
                 <td id="StatsWins">0</td>                 
               </tr>
               <tr>
                  <td>Losts: </td>
                  <td id="StatsLosts">0</td>                 
                </tr>
                <tr>
                  <td>Draws: </td>
                  <td id="StatsDraws">0</td>                 
                </tr>
             </table> 
         </div>
         <div id="DialogNewGame" title="Create new game">
            <div style="background-color:#daa351; border:1px #daa351 solid; width:500px; height:400px; margin:0 auto 0 auto;">
               <label id="Message2" style="color:black; margin-left:24px; margin-top:6px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">All form fields are required.</label>								
               <div style="background-color:#daa351; border:1px #daa351 solid; width:450px; height:60px; float:left; margin-top:44px; margin-left:24px;">
                  <label style="color:black; margin-left:0px; margin-top:18px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">Minutes</label>								
                  <input type="text" maxlength="3" id="Minutes" oninput="numberOnly(this.id);" value="5" style="float:left; color:#d35d3f; font-size:20px; font-weight:bold; width:54px; margin-left:10px; margin-top:14px;"/>
                  <label style="color:black; margin-left:76px; margin-top:18px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">Seconds</label>								
                  <input type="text" maxlength="3" id="Seconds" oninput="numberOnly(this.id);" value="0" style="float:left; color:#d35d3f; font-size:20px; font-weight:bold; width:54px; margin-left:10px; margin-top:14px;"/>
               </div>
               <div style="background-color:#daa351; border:1px #daa351 solid; width:450px; height:60px; float:left; margin-top:44px; margin-left:24px;">
                  <label style="color:black; margin-left:0px; margin-top:18px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">Min Rating</label>								
                  <input type="text" maxlength="4" id="MinRating" oninput="numberOnly(this.id);" value="1200" style="float:left; color:#d35d3f; font-size:20px; font-weight:bold; width:54px; margin-left:10px; margin-top:14px;"/>
                  <label style="color:black; margin-left:50px; margin-top:18px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">Max Rating</label>								
                  <input type="text" maxlength="4" id="MaxRating" oninput="numberOnly(this.id);" value="2800" style="float:left; color:#d35d3f; font-size:20px; font-weight:bold; width:54px; margin-left:10px; margin-top:14px;"/>
               </div>
               <div style="background-color:#daa351; border:1px #daa351 solid; width:450px; height:60px; float:left; margin-top:44px; margin-left:24px;">
                  <label style="color:black; margin-left:0px; margin-top:18px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">Rated</label>								
                  <select id="SelectRated" style="color:#d35d3f; margin-left:10px; margin-top:16px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">
                     <option value="Rated" selected >Rated</option>
                     <option value="UnRated">UnRated</option>                     
                  </select>
                  <label style="color:black; margin-left:50px; margin-top:18px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">Color</label>								
                  <select id="SelectColor" style="color:#d35d3f; margin-left:10px; margin-top:16px; float:left; font-family:Arial,Helvetica,sans-serif; font-weight:bold; font-size:20px;">
                     <option value="Random" selected >Random</option>
                     <option value="White">White</option>
                     <option value="Black">Black</option>                     
                  </select>                   
               </div>                
            </div>            
         </div>
      </div>
      <div id="DialogSetting" title="Setting">
         <p></p>	
         <table style="width:380px; border:0px black solid; background-color:#daa351;">
            <tr>                            
               <td style="border:0px black solid; padding:15px 15px 15px 15px;">
                  <input type="checkbox" name="test0" value="test" id="cbShowCoord"/>                
                  <label style="color:black;" for="ShowCoord">Show coordinates</label>	
               </td>
            </tr>
            <tr>                            
               <td style="border:0px black solid; padding:15px 15px 15px 15px;">
                  <input type="checkbox" name="test1" value="test" id="cbHighLight"/>                
                  <label style="color:black;" for="highlight">Highlight the squares of the last move</label>	
               </td>
            </tr>            
            <tr>
               <td style="border:0px black solid; padding:15px 15px 15px 15px;">
                  <input type="checkbox" name="test2" value="test" id="cbPromote"/>		
                  <label style="color:black;" for="promote">Always promotion to queen</label>
               </td>
            </tr>
            <tr>
               <td style="border:0px black solid; padding:15px 15px 15px 15px;">
                  <input type="checkbox" name="test3" value="test" id="cbSound"/>
                  <label style="color:black;" for="sound">Enable sound</label>
               </td>
            </tr>
            <tr>
               <td style="border:0px black solid; padding:20px 0px 0px 18px;">
                  <label style="color:black;" for="welcome">Welcome message to opponent</label>
               </td>
            </tr>
            <tr>
               <td style="border:0px black solid; padding:0px 0px 0px 18px;">
                  <input type="text" id="welcome" name="welcome" maxlength="100" style="color:#d35d3f; width:322px; font-weight:bold;">
               </td>
            </tr>
            <br>
            <tr>
               <td style="border:0px black solid; padding:20px 0px 0px 18px;">
                  <label style="color:black;" for="country">Country</label>
               </td>
            </tr>
            <tr>
               <td style="border:0px black solid; padding:0px 0px 0px 18px;">
                  <select id="country" style="width:332px; color:#d35d3f; font-weight:bold;">
                          <option value="AF">Afghanistan</option>
                          <option value="AX">Åland Islands</option>
                          <option value="AL">Albania</option>
                          <option value="DZ">Algeria</option>
                          <option value="AS">American Samoa</option>
                          <option value="AD">Andorra</option>
                          <option value="AO">Angola</option>
                          <option value="AI">Anguilla</option>
                          <option value="AQ">Antarctica</option>
                          <option value="AG">Antigua and Barbuda</option>
                          <option value="AR">Argentina</option>
                          <option value="AM">Armenia</option>
                          <option value="AW">Aruba</option>
                          <option value="AU">Australia</option>
                          <option value="AT">Austria</option>
                          <option value="AZ">Azerbaijan</option>
                          <option value="BS">Bahamas</option>
                          <option value="BH">Bahrain</option>
                          <option value="BD">Bangladesh</option>
                          <option value="BB">Barbados</option>
                          <option value="BY">Belarus</option>
                          <option value="BE">Belgium</option>
                          <option value="BZ">Belize</option>
                          <option value="BJ">Benin</option>
                          <option value="BM">Bermuda</option>
                          <option value="BT">Bhutan</option>
                          <option value="BO">Bolivia, Plurinational State of</option>
                          <option value="BQ">Bonaire, Sint Eustatius and Saba</option>
                          <option value="BA">Bosnia and Herzegovina</option>
                          <option value="BW">Botswana</option>
                          <option value="BV">Bouvet Island</option>
                          <option value="BR">Brazil</option>
                          <option value="IO">British Indian Ocean Territory</option>
                          <option value="BN">Brunei Darussalam</option>
                          <option value="BG">Bulgaria</option>
                          <option value="BF">Burkina Faso</option>
                          <option value="BI">Burundi</option>
                          <option value="KH">Cambodia</option>
                          <option value="CM">Cameroon</option>
                          <option value="CA">Canada</option>
                          <option value="CV">Cape Verde</option>
                          <option value="KY">Cayman Islands</option>
                          <option value="CF">Central African Republic</option>
                          <option value="TD">Chad</option>
                          <option value="CL">Chile</option>
                          <option value="CN">China</option>
                          <option value="CX">Christmas Island</option>
                          <option value="CC">Cocos (Keeling) Islands</option>
                          <option value="CO">Colombia</option>
                          <option value="KM">Comoros</option>
                          <option value="CG">Congo</option>
                          <option value="CD">Congo, the Democratic Republic of the</option>
                          <option value="CK">Cook Islands</option>
                          <option value="CR">Costa Rica</option>
                          <option value="CI">Côte d'Ivoire</option>
                          <option value="HR">Croatia</option>
                          <option value="CU">Cuba</option>
                          <option value="CW">Curaçao</option>
                          <option value="CY">Cyprus</option>
                          <option value="CZ">Czech Republic</option>
                          <option value="DK">Denmark</option>
                          <option value="DJ">Djibouti</option>
                          <option value="DM">Dominica</option>
                          <option value="DO">Dominican Republic</option>
                          <option value="EC">Ecuador</option>
                          <option value="EG">Egypt</option>
                          <option value="SV">El Salvador</option>
                          <option value="GQ">Equatorial Guinea</option>
                          <option value="ER">Eritrea</option>
                          <option value="EE">Estonia</option>
                          <option value="ET">Ethiopia</option>
                          <option value="FK">Falkland Islands (Malvinas)</option>
                          <option value="FO">Faroe Islands</option>
                          <option value="FJ">Fiji</option>
                          <option value="FI">Finland</option>
                          <option value="FR">France</option>
                          <option value="GF">French Guiana</option>
                          <option value="PF">French Polynesia</option>
                          <option value="TF">French Southern Territories</option>
                          <option value="GA">Gabon</option>
                          <option value="GM">Gambia</option>
                          <option value="GE">Georgia</option>
                          <option value="DE">Germany</option>
                          <option value="GH">Ghana</option>
                          <option value="GI">Gibraltar</option>
                          <option value="GR">Greece</option>
                          <option value="GL">Greenland</option>
                          <option value="GD">Grenada</option>
                          <option value="GP">Guadeloupe</option>
                          <option value="GU">Guam</option>
                          <option value="GT">Guatemala</option>
                          <option value="GG">Guernsey</option>
                          <option value="GN">Guinea</option>
                          <option value="GW">Guinea-Bissau</option>
                          <option value="GY">Guyana</option>
                          <option value="HT">Haiti</option>
                          <option value="HM">Heard Island and McDonald Islands</option>
                          <option value="VA">Holy See (Vatican City State)</option>
                          <option value="HN">Honduras</option>
                          <option value="HK">Hong Kong</option>
                          <option value="HU">Hungary</option>
                          <option value="IS">Iceland</option>
                          <option value="IN">India</option>
                          <option value="ID">Indonesia</option>
                          <option value="IR">Iran, Islamic Republic of</option>
                          <option value="IQ">Iraq</option>
                          <option value="IE">Ireland</option>
                          <option value="IM">Isle of Man</option>
                          <option value="IL">Israel</option>
                          <option value="IT">Italy</option>
                          <option value="JM">Jamaica</option>
                          <option value="JP">Japan</option>
                          <option value="JE">Jersey</option>
                          <option value="JO">Jordan</option>
                          <option value="KZ">Kazakhstan</option>
                          <option value="KE">Kenya</option>
                          <option value="KI">Kiribati</option>
                          <option value="KP">Korea, Democratic People's Republic of</option>
                          <option value="KR">Korea, Republic of</option>
                          <option value="KW">Kuwait</option>
                          <option value="KG">Kyrgyzstan</option>
                          <option value="LA">Lao People's Democratic Republic</option>
                          <option value="LV">Latvia</option>
                          <option value="LB">Lebanon</option>
                          <option value="LS">Lesotho</option>
                          <option value="LR">Liberia</option>
                          <option value="LY">Libya</option>
                          <option value="LI">Liechtenstein</option>
                          <option value="LT">Lithuania</option>
                          <option value="LU">Luxembourg</option>
                          <option value="MO">Macao</option>
                          <option value="MK">Macedonia, the former Yugoslav Republic of</option>
                          <option value="MG">Madagascar</option>
                          <option value="MW">Malawi</option>
                          <option value="MY">Malaysia</option>
                          <option value="MV">Maldives</option>
                          <option value="ML">Mali</option>
                          <option value="MT">Malta</option>
                          <option value="MH">Marshall Islands</option>
                          <option value="MQ">Martinique</option>
                          <option value="MR">Mauritania</option>
                          <option value="MU">Mauritius</option>
                          <option value="YT">Mayotte</option>
                          <option value="MX">Mexico</option>
                          <option value="FM">Micronesia, Federated States of</option>
                          <option value="MD">Moldova, Republic of</option>
                          <option value="MC">Monaco</option>
                          <option value="MN">Mongolia</option>
                          <option value="ME">Montenegro</option>
                          <option value="MS">Montserrat</option>
                          <option value="MA">Morocco</option>
                          <option value="MZ">Mozambique</option>
                          <option value="MM">Myanmar</option>
                          <option value="NA">Namibia</option>
                          <option value="NR">Nauru</option>
                          <option value="NP">Nepal</option>
                          <option value="NL">Netherlands</option>
                          <option value="NC">New Caledonia</option>
                          <option value="NZ">New Zealand</option>
                          <option value="NI">Nicaragua</option>
                          <option value="NE">Niger</option>
                          <option value="NG">Nigeria</option>
                          <option value="NU">Niue</option>
                          <option value="NF">Norfolk Island</option>
                          <option value="MP">Northern Mariana Islands</option>
                          <option value="NO">Norway</option>
                          <option value="OM">Oman</option>
                          <option value="PK">Pakistan</option>
                          <option value="PW">Palau</option>
                          <option value="PS">Palestinian Territory, Occupied</option>
                          <option value="PA">Panama</option>
                          <option value="PG">Papua New Guinea</option>
                          <option value="PY">Paraguay</option>
                          <option value="PE">Peru</option>
                          <option value="PH">Philippines</option>
                          <option value="PN">Pitcairn</option>
                          <option value="PL">Poland</option>
                          <option value="PT">Portugal</option>
                          <option value="PR">Puerto Rico</option>
                          <option value="QA">Qatar</option>
                          <option value="RE">Réunion</option>
                          <option value="RO">Romania</option>
                          <option value="RU">Russian Federation</option>
                          <option value="RW">Rwanda</option>
                          <option value="BL">Saint Barthélemy</option>
                          <option value="SH">Saint Helena, Ascension and Tristan da Cunha</option>
                          <option value="KN">Saint Kitts and Nevis</option>
                          <option value="LC">Saint Lucia</option>
                          <option value="MF">Saint Martin (French part)</option>
                          <option value="PM">Saint Pierre and Miquelon</option>
                          <option value="VC">Saint Vincent and the Grenadines</option>
                          <option value="WS">Samoa</option>
                          <option value="SM">San Marino</option>
                          <option value="ST">Sao Tome and Principe</option>
                          <option value="SA">Saudi Arabia</option>
                          <option value="SN">Senegal</option>
                          <option value="RS">Serbia</option>
                          <option value="SC">Seychelles</option>
                          <option value="SL">Sierra Leone</option>
                          <option value="SG">Singapore</option>
                          <option value="SX">Sint Maarten (Dutch part)</option>
                          <option value="SK">Slovakia</option>
                          <option value="SI">Slovenia</option>
                          <option value="SB">Solomon Islands</option>
                          <option value="SO">Somalia</option>
                          <option value="ZA">South Africa</option>
                          <option value="GS">South Georgia and the South Sandwich Islands</option>
                          <option value="SS">South Sudan</option>
                          <option value="ES">Spain</option>
                          <option value="LK">Sri Lanka</option>
                          <option value="SD">Sudan</option>
                          <option value="SR">Suriname</option>
                          <option value="SJ">Svalbard and Jan Mayen</option>
                          <option value="SZ">Swaziland</option>
                          <option value="SE">Sweden</option>
                          <option value="CH">Switzerland</option>
                          <option value="SY">Syrian Arab Republic</option>
                          <option value="TW">Taiwan, Province of China</option>
                          <option value="TJ">Tajikistan</option>
                          <option value="TZ">Tanzania, United Republic of</option>
                          <option value="TH">Thailand</option>
                          <option value="TL">Timor-Leste</option>
                          <option value="TG">Togo</option>
                          <option value="TK">Tokelau</option>
                          <option value="TO">Tonga</option>
                          <option value="TT">Trinidad and Tobago</option>
                          <option value="TN">Tunisia</option>
                          <option value="TR">Turkey</option>
                          <option value="TM">Turkmenistan</option>
                          <option value="TC">Turks and Caicos Islands</option>
                          <option value="TV">Tuvalu</option>
                          <option value="UG">Uganda</option>
                          <option value="UA">Ukraine</option>
                          <option value="AE">United Arab Emirates</option>
                          <option value="GB">United Kingdom</option>
                          <option value="US">United States</option>
                          <option value="UM">United States Minor Outlying Islands</option>
                          <option value="UY">Uruguay</option>
                          <option value="UZ">Uzbekistan</option>
                          <option value="VU">Vanuatu</option>
                          <option value="VE">Venezuela, Bolivarian Republic of</option>
                          <option value="VN">Viet Nam</option>
                          <option value="VG">Virgin Islands, British</option>
                          <option value="VI">Virgin Islands, U.S.</option>
                          <option value="WF">Wallis and Futuna</option>
                          <option value="EH">Western Sahara</option>
                          <option value="YE">Yemen</option>
                          <option value="ZM">Zambia</option>
                          <option value="ZW">Zimbabwe</option>
                      </select>
               </td>
            </tr>
            <tr><td style="height:22px;"></td></tr>
         </table>	
      </div>         
   </body>
</html>